document.addEventListener("DOMContentLoaded",()=>{const formulario=document.getElementById("contactForm");if(!formulario)return;const cajaFeedback=document.getElementById("formFeedback");const botonEnviar=document.getElementById("btnEnviar");formulario.addEventListener("submit",function(evento){evento.preventDefault();let esValido=true;cajaFeedback.textContent="";cajaFeedback.className="";const campos=formulario.querySelectorAll(".form-control");campos.forEach(campo=>{campo.classList.remove("is-invalid");if(campo.nextElementSibling){campo.nextElementSibling.textContent=""}});const nombre=formulario.nombre.value.trim();const correo=formulario.correo.value.trim();const asunto=formulario.asunto.value.trim();const mensaje=formulario.mensaje.value.trim();if(nombre===""){mostrarError("nombre","⚠️ Por favor ingresa tu nombre completo.");esValido=false}if(correo===""){mostrarError("correo","⚠️ Por favor ingresa tu correo.");esValido=false}else if(!validarEmail(correo)){mostrarError("correo","❌ El formato del correo no es válido.");esValido=false}if(asunto===""){mostrarError("asunto","⚠️ Indica el asunto de tu mensaje.");esValido=false}if(mensaje.length<10){mostrarError("mensaje","⚠️ El mensaje debe tener al menos 10 caracteres.");esValido=false}if(!esValido)return;simularEnvioDeFormulario()});function simularEnvioDeFormulario(){deshabilitarFormulario(true);cajaFeedback.innerHTML=`<div class="spinner-border text-primary" role="status">\n                                    <span class="visually-hidden">Enviando...</span>\n                                 </div>\n                                 <p class="mt-2">Enviando tu mensaje...</p>`;cajaFeedback.className="text-center";setTimeout(()=>{cajaFeedback.className="alert alert-success animate__animated animate__fadeInDown";cajaFeedback.textContent="✅ Tu mensaje ha sido enviado correctamente (simulado). ¡Gracias por contactarnos!";formulario.reset();deshabilitarFormulario(false);setTimeout(()=>{cajaFeedback.textContent="";cajaFeedback.className=""},4e3)},2500)}function mostrarError(idCampo,mensajeError){const campo=document.getElementById(idCampo);const feedback=campo.nextElementSibling;campo.classList.add("is-invalid");if(feedback){feedback.textContent=mensajeError}}function validarEmail(email){const expresionRegular=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return expresionRegular.test(email)}function deshabilitarFormulario(deshabilitar){const elementos=formulario.querySelectorAll(".form-control");elementos.forEach(el=>el.disabled=deshabilitar);botonEnviar.disabled=deshabilitar;if(deshabilitar){botonEnviar.innerHTML=`<span class="spinner-border spinner-border-sm me-2"></span>Enviando...`}else{botonEnviar.innerHTML=`Enviar Mensaje`}}});(()=>{const lienzo=document.getElementById("starCanvas");if(!lienzo)return;const contexto=lienzo.getContext("2d");let ancho,alto,estrellas=[];const redimensionar=()=>{ancho=lienzo.width=window.innerWidth;alto=lienzo.height=window.innerHeight};window.addEventListener("resize",redimensionar);redimensionar();const NUMERO_DE_ESTRELLAS=150;const DISTANCIA_MAXIMA_CONEXION=120;for(let i=0;i<NUMERO_DE_ESTRELLAS;i++){estrellas.push({x:Math.random()*ancho,y:Math.random()*alto,radio:Math.random()*1.2+.3,velocidadX:(Math.random()-.5)*.3,velocidadY:(Math.random()-.5)*.3,opacidad:Math.random()*.5+.5,tasaDeCambioOpacidad:Math.random()*.01+.005})}const dibujar=()=>{contexto.clearRect(0,0,ancho,alto);contexto.shadowBlur=6;contexto.shadowColor="#ffffff";for(const estrella of estrellas){estrella.opacidad+=estrella.tasaDeCambioOpacidad*(Math.random()>.5?1:-1);estrella.opacidad=Math.max(.2,Math.min(1,estrella.opacidad));estrella.x+=estrella.velocidadX;estrella.y+=estrella.velocidadY;if(estrella.x<0)estrella.x=ancho;if(estrella.x>ancho)estrella.x=0;if(estrella.y<0)estrella.y=alto;if(estrella.y>alto)estrella.y=0;contexto.globalAlpha=estrella.opacidad;contexto.beginPath();contexto.arc(estrella.x,estrella.y,estrella.radio,0,Math.PI*2);contexto.fillStyle="#ffffff";contexto.fill()}contexto.globalAlpha=.3;for(let i=0;i<NUMERO_DE_ESTRELLAS;i++){for(let j=i+1;j<NUMERO_DE_ESTRELLAS;j++){const distanciaX=estrellas[i].x-estrellas[j].x;const distanciaY=estrellas[i].y-estrellas[j].y;const distancia=Math.sqrt(distanciaX*distanciaX+distanciaY*distanciaY);if(distancia<DISTANCIA_MAXIMA_CONEXION){const opacidadConexion=1-distancia/DISTANCIA_MAXIMA_CONEXION;contexto.strokeStyle=`rgba(255,255,255,${opacidadConexion})`;contexto.lineWidth=.7;contexto.beginPath();contexto.moveTo(estrellas[i].x,estrellas[i].y);contexto.lineTo(estrellas[j].x,estrellas[j].y);contexto.stroke()}}}requestAnimationFrame(dibujar)};dibujar()})();